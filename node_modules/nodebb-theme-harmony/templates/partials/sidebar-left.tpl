<nav component="sidebar/left" class="{{{ if config.theme.openSidebars}}}open{{{ end }}} text-dark bg-light sidebar sidebar-left start-0 border-end vh-100 d-none d-lg-flex flex-column justify-content-between sticky-top">
	<ul id="main-nav" class="list-unstyled d-flex flex-column w-100 gap-2 mt-2 overflow-y-auto">
		{{{ each navigation }}}
		{{{ if displayMenuItem(@root, @index) }}}
		<li class="nav-item mx-2 {./class}{{{ if ./dropdown }}} dropend{{{ end }}}" title="{./title}">
			<a class="nav-link navigation-link d-flex gap-2 justify-content-between align-items-center {{{ if ./dropdown }}}dropdown-toggle{{{ end }}}" {{{ if ./dropdown }}} href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" {{{ else }}} href="{./route}"{{{ end }}} {{{ if ./id }}}id="{./id}"{{{ end }}}{{{ if ./targetBlank }}} target="_blank"{{{ end }}} {{{ if ./text }}}aria-label="{./text}"{{{ end }}}>
				<span class="d-flex gap-2 align-items-center text-nowrap truncate-open">
					<span class="position-relative">
						{{{ if ./iconClass }}}
						<i class="fa fa-fw {./iconClass}" data-content="{./content}"></i>
						<span component="navigation/count" class="visible-closed position-absolute top-0 start-100 translate-middle badge rounded-1 bg-primary {{{ if !./content }}}hidden{{{ end }}}">{./content}</span>
						{{{ end }}}
					</span>
					{{{ if ./text }}}<span class="nav-text small visible-open fw-semibold text-truncate">{./text}</span>{{{ end }}}
				</span>
				<span component="navigation/count" class="visible-open badge rounded-1 bg-primary {{{ if !./content }}}hidden{{{ end }}}">{./content}</span>
			</a>
			{{{ if ./dropdown }}}
			<ul class="dropdown-menu p-1 shadow" role="menu">
				{./dropdownContent}
			</ul>
			{{{ end }}}
		</li>
		{{{ end }}}
		{{{ end }}}
	</ul>
	<div class="sidebar-toggle-container align-self-start">
		{{{ if !config.disableCustomUserSkins }}}
		<!-- IMPORT partials/skin-switcher.tpl -->
		{{{ end }}}


<!-- A button to open the popup form (alternative button outside sidebar) -->
<button class="btn buttonSidebar" onclick="openForm()">Submit bug/feedback</button>

<!-- The Form Modal -->
<div class="form-popup" id="bug-feedback-modal" style="display:none;">
  <form id="bug-feedback-form" class="form-container" ">
    <h1>Bug/Feedback</h1>

    <label for="title"><b>Title</b></label>
    <input type="text" placeholder="Enter Title" name="title" class="form-control" required>

    <label for="description"><b>Description</b></label>
    <textarea placeholder="Enter Description" name="description" class="form-control" required></textarea>

    <button type="submit" class="btn btn-primary">Submit</button>
    <button type="button" class="btn btn-danger cancel " onclick="closeForm()">Close</button>
  </form>
</div>

<!-- CSS Styles -->
<style>
  .form-popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 15%;
    bottom: 0;
    right: 15px;
    border: 3px solid #f1f1f1;
    z-index: 9;
  }

  .form-container {
    max-width: 300px;
    padding: 10px;
    background-color: WhiteSmoke;
  }

  .form-container .btn {
    background-color: #04AA6D;
    color: white ;
    padding: 16px 20px;
    border: none;
    cursor: pointer;
    width: 100%;
    margin-bottom: 10px;
    opacity: 0.8;
  }

  .form-container .cancel {
    background-color: red;
  }

  .buttonSidebar {
    background-color: CornflowerBlue; 
    color: back; 
    border: 1px; 
    padding: 10px 20px; 
    cursor: pointer; 
  }


  .form-container .btn:hover, .open-button:hover {
    opacity: 0.5; 
  }

.buttonSidebar:hover {
   background-color: LightSkyBlue;
}

  .form-container .btn:hover, .open-button:hover {
    opacity: 1;
  }
</style>



<!-- JavaScript for Form Opening and Closing -->
<script>

document.querySelector(".form-popup").onsubmit = function(event) {
  console.log("pressed the submit button")
  alert('Thank you! We received your feedback and will get back to you soon.');
  console.log("Sumbmitted the form :p yay !")
};

buttonSidebar.addEventListener("click", openForm()) 

function openForm() {
  console.log("Button Clicked ......")

  document.getElementById("bug-feedback-modal").style.display = "block";
}
function closeForm() {
  document.getElementById("bug-feedback-modal").style.display = "none";
}

</script>


  

		<div class="sidebar-toggle m-2 d-none d-lg-block">
			<a href="#" role="button" component="sidebar/toggle" class="nav-link d-flex gap-2 align-items-center p-2 pointer w-100 text-nowrap" title="[[themes/harmony:expand]]" aria-label="[[themes/harmony:sidebar-toggle]]">
				<i class="fa fa-fw fa-angles-right"></i>
				<i class="fa fa-fw fa-angles-left"></i>
				<span class="nav-text visible-open fw-semibold small lh-1">[[themes/harmony:collapse]]</span>
			</a>
		</div>
	</div>
</nav>






